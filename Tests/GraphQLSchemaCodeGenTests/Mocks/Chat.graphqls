"ISO8601 Formatted"
scalar DateTime
scalar ID

type Message @key(fields: "id") {
    id: ID!
    body: String!
    recieved: DateTime!
    sender: Sender!
}

type System {
    id: ID!
}

type User {
    id: ID!
}

union Sender = System | User

type Query {
    history(room: String!): [Message!]!
}

type Mutation {
    sendMessage(room: String!, message: String!): Message!
}

type Subscription {
    messages(room: String!): Message!
}
